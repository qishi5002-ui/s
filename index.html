<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Key Store</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; background:#f4f4f4;}
  header { background: #333; color: #fff; padding: 10px; position: sticky; top:0; z-index:10;}
  .hamburger { cursor:pointer; font-size:24px;}
  nav { display:none; background:#444; padding:10px; }
  nav a { color:#fff; text-decoration:none; display:block; padding:5px 0;}
  .yellow-box { background:yellow; color:black; padding:10px; margin:10px; border-radius:5px;}
  .products { display:flex; justify-content:center; flex-wrap:wrap; margin:20px;}
  .product { background:#fff; padding:20px; margin:10px; border-radius:5px; width:250px; box-shadow:0 0 5px #ccc;}
  button { padding:10px; background:#333; color:#fff; border:none; cursor:pointer; margin-top:10px; width:100%;}
  input, select { padding:10px; width:100%; margin:5px 0; box-sizing:border-box;}
  .hidden { display:none;}
  .copy-btn { margin-left:5px; padding:5px; cursor:pointer; }
  .recent-purchase { position:fixed; bottom:10px; left:10px; background:#eee; padding:5px 10px; border-radius:5px; font-size:12px; box-shadow:0 0 5px #999;}
  table { width:100%; border-collapse:collapse;}
  table, th, td { border:1px solid #ccc; }
  th, td { padding:10px; text-align:left;}
</style>
</head>
<body>

<header>
  <span class="hamburger">&#9776;</span>
  <nav>
    <a href="#" onclick="showPage('home')">Home</a>
    <a href="#" onclick="showPage('track')">Track Order</a>
    <a href="#" onclick="showPage('adminLogin')">Admin Login</a>
  </nav>
</header>

<!-- Home Page -->
<div id="home" class="page">
  <div class="yellow-box">NOTE: Please remember to screenshot your crypto payments and receipt.</div>
  <div class="products">
    <div class="product">
      <h3>Delta Force Key</h3>
      <ul>
        <li>1 day - $5</li>
        <li>3 day - $8</li>
        <li>7 days - $12</li>
        <li>14 days - $17</li>
        <li>30 days - $23</li>
      </ul>
      <button onclick="selectProduct('Delta Force Key')">Buy Now</button>
    </div>
    <div class="product">
      <h3>PubG Key</h3>
      <ul>
        <li>1 day - $4</li>
        <li>3 days - $7</li>
        <li>7 days - $11</li>
        <li>30 days - $22</li>
      </ul>
      <button onclick="selectProduct('PubG Key')">Buy Now</button>
    </div>
  </div>
</div>

<!-- Checkout Page -->
<div id="checkout" class="page hidden">
  <h2>Checkout - <span id="checkoutProduct"></span></h2>
  <label>Telegram Username:</label>
  <input type="text" id="telegramUsername" placeholder="@username">
  <label>Select Key Duration:</label>
  <select id="keyDuration"></select>
  <label>Price (USDT):</label>
  <input type="text" id="keyPrice" readonly>
  <button onclick="goToPayment()">Checkout</button>
</div>

<!-- Payment Page -->
<div id="payment" class="page hidden">
  <h2>Payment Page</h2>
  <p>Send <strong><span id="paymentAmount"></span> USDT</strong> to the following wallet:</p>
  <p><input type="text" value="TEwKbkNdXqvNUG951nYTCRF6UjLGBn7pqc" id="walletAddress" readonly>
     <button class="copy-btn" onclick="copyWallet()">Copy</button></p>
  <p>Network: TRC-20</p>
  <button onclick="generateReceipt()">I've Paid</button>
</div>

<!-- Receipt Page -->
<div id="receipt" class="page hidden">
  <h2>Receipt</h2>
  <p>Order ID: <span id="orderID"></span></p>
  <p>Product: <span id="receiptProduct"></span></p>
  <p>Duration: <span id="receiptDuration"></span></p>
  <p>Price: $<span id="receiptPrice"></span></p>
  <p>Status: Pending</p>
  <p>Date & Time: <span id="receiptDate"></span></p>
  <p>NOTE: Send BOTH screenshots of crypto payment and receipt to <a href="https://t.me/cocomelonqueen" target="_blank">@cocomelonqueen</a></p>
</div>

<!-- Track Order Page -->
<div id="track" class="page hidden">
  <h2>Track Order</h2>
  <input type="text" id="trackID" placeholder="Enter Order ID">
  <button onclick="trackOrder()">Check Status</button>
  <p id="trackResult"></p>
</div>

<!-- Admin Login -->
<div id="adminLogin" class="page hidden">
  <h2>Admin Login</h2>
  <input type="password" id="adminPassword" placeholder="Password">
  <button onclick="loginAdmin()">Login</button>
  <p id="loginMsg"></p>
</div>

<!-- Admin Panel -->
<div id="adminPanel" class="page hidden">
  <h2>Admin Panel</h2>
  <p>Total Orders Delivered: <span id="totalDelivered">0</span></p>
  <p>Total Profits: $<span id="totalProfit">0</span></p>
  <h3>Orders</h3>
  <table id="ordersTable">
    <tr>
      <th>Order ID</th>
      <th>Telegram</th>
      <th>Product</th>
      <th>Duration</th>
      <th>Price</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </table>
</div>

<div class="recent-purchase" id="recentPurchase"></div>

<script>
// Navigation Hamburger
document.querySelector('.hamburger').addEventListener('click',()=> {
  let nav = document.querySelector('nav');
  nav.style.display = nav.style.display === 'block' ? 'none' : 'block';
});

// Pages
function showPage(page){
  document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden'));
  document.getElementById(page).classList.remove('hidden');
}

// Products data
const productsData = {
  "Delta Force Key": { durations:["1 day","3 day","7 days","14 days","30 days"], prices:[5,8,12,17,23], profits:[2,3,3,4,5] },
  "PubG Key": { durations:["1 day","3 days","7 days","30 days"], prices:[4,7,11,22], profits:[2,3,4,7] }
};

// Orders storage
let orders = [];

// Select product
let currentProduct = '';
let currentDuration = '';
let currentPrice = 0;

function selectProduct(product){
  currentProduct = product;
  document.getElementById('checkoutProduct').innerText = product;
  let select = document.getElementById('keyDuration');
  select.innerHTML = '';
  productsData[product].durations.forEach((d,i)=>{
    let opt = document.createElement('option');
    opt.value = i;
    opt.text = d + " - $" + productsData[product].prices[i];
    select.add(opt);
  });
  select.onchange = function(){
    let idx = this.value;
    currentDuration = productsData[product].durations[idx];
    currentPrice = productsData[product].prices[idx];
    document.getElementById('keyPrice').value = currentPrice;
  }
  select.selectedIndex = 0;
  select.onchange();
  showPage('checkout');
}

// Go to payment
function goToPayment(){
  let username = document.getElementById('telegramUsername').value.trim();
  if(!username){ alert("Enter Telegram username"); return; }
  currentDuration = document.getElementById('keyDuration').selectedOptions[0].text.split(" - ")[0];
  document.getElementById('paymentAmount').innerText = currentPrice;
  showPage('payment');
}

// Copy wallet
function copyWallet(){
  let copyText = document.getElementById("walletAddress");
  copyText.select();
  copyText.setSelectionRange(0,99999);
  document.execCommand("copy");
  alert("Wallet copied!");
}

// Generate receipt
function generateReceipt(){
  let orderID = 'ORD' + Math.floor(Math.random()*1000000);
  let date = new Date();
  let order = {
    id: orderID,
    telegram: document.getElementById('telegramUsername').value,
    product: currentProduct,
    duration: currentDuration,
    price: currentPrice,
    status: 'Pending',
    date: date.toLocaleString()
  };
  orders.push(order);
  updateAdminTable();
  document.getElementById('orderID').innerText = orderID;
  document.getElementById('receiptProduct').innerText = currentProduct;
  document.getElementById('receiptDuration').innerText = currentDuration;
  document.getElementById('receiptPrice').innerText = currentPrice;
  document.getElementById('receiptDate').innerText = date.toLocaleString();
  showPage('receipt');
}

// Fake recent purchases
function showRecentPurchase(){
  let usernames = ["Us***12","Ga***34","An***56","Pl***78"];
  let products = ["Delta Force Key","PubG Key"];
  let user = usernames[Math.floor(Math.random()*usernames.length)];
  let prod = products[Math.floor(Math.random()*products.length)];
  document.getElementById('recentPurchase').innerText = `${user} bought ${prod} a few minutes ago`;
}
setInterval(showRecentPurchase, 5000);

// Track order
function trackOrder(){
  let id = document.getElementById('trackID').value.trim();
  let order = orders.find(o=>o.id===id);
  document.getElementById('trackResult').innerText = order ? `Status: ${order.status}` : 'Order not found';
}

// Admin login
function loginAdmin(){
  let pwd = document.getElementById('adminPassword').value;
  if(pwd==='80256348$'){
    showPage('adminPanel');
    document.getElementById('loginMsg').innerText = '';
    updateAdminTable();
  } else {
    document.getElementById('loginMsg').innerText = 'Incorrect password';
  }
}

// Update admin table and profits
function updateAdminTable(){
  let table = document.getElementById('ordersTable');
  table.innerHTML = `<tr>
      <th>Order ID</th>
      <th>Telegram</th>
      <th>Product</th>
      <th>Duration</th>
      <th>Price</th>
      <th>Status</th>
      <th>Action</th>
    </tr>`;
  let totalDelivered = 0;
  let totalProfit = 0;
  orders.forEach((o,i)=>{
    let row = table.insertRow();
    row.insertCell(0).innerText = o.id;
    row.insertCell(1).innerText = o.telegram;
    row.insertCell(2).innerText = o.product;
    row.insertCell(3).innerText = o.duration;
    row.insertCell(4).innerText = `$${o.price}`;
    let statusCell = row.insertCell(5);
    let sel = document.createElement('select');
    ['Pending','Delivered','Cancelled'].forEach(s=>{
      let opt = document.createElement('option'); opt.value=s; opt.text=s;
      if(s===o.status) opt.selected = true;
      sel.add(opt);
    });
    sel.onchange = function(){ o.status = this.value; updateAdminTable(); }
    statusCell.appendChild(sel);
    row.insertCell(6).innerHTML = `<button onclick="deleteOrder(${i})">Delete</button>`;
    
    if(o.status==='Delivered'){
      totalDelivered++;
      // Add profit
      let idx = productsData[o.product].durations.indexOf(o.duration);
      totalProfit += productsData[o.product].profits[idx];
    }
  });
  document.getElementById('totalDelivered').innerText = totalDelivered;
  document.getElementById('totalProfit').innerText = totalProfit;
}

// Delete order
function deleteOrder(index){
  if(confirm('Delete this order?')){
    orders.splice(index,1);
    updateAdminTable();
  }
}

</script>

</body>
</html>
